

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Libindy 1.5 to 1.6 migration Guide &mdash; Hyperledger Indy SDK  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Release process" href="release-workflow.html" />
    <link rel="prev" title="Libindy 1.4 to 1.5 migration Guide" href="migration-guide-1.4.0-1.5.0.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          


          
            <a href="rtd-index.html" class="icon icon-home"> Hyperledger Indy SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<br><img style="background-color: #fff; height: unset; width: unset;" alt="Hyperledger Indy" src="_static/images/indy-logo.png" />
<br>
<a href="https://github.com/hyperledger/indy-sdk.git"><img style="padding: 0px; margin: auto auto auto auto;" alt="GitHub" src="_static/images/github_button.png"/></a>
&nbsp;<a href="https://stackoverflow.com/questions/tagged/hyperledger-fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="StackOverflow" src="_static/images/stackoverflow_button.png"/></a>
&nbsp;<a href="https://chat.hyperledger.org"><img style="padding: 0px; margin: auto auto auto auto;" alt="Rocket Chat" src="_static/images/rocketchat_button.png"/></a>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started/getting-started.html">Getting Started with Libindy</a></li>
<li class="toctree-l1"><a class="reference internal" href="rtd-tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="rtd-design.html">Indy SDK Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="rtd-building.html">Building Indy SDK</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="rtd-migration-guides.html">Libindy Migration Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="migration-guide-1.3.0-1.4.0.html">Libindy migration Guide from v.1.3.0 to 1.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration-guide-1.4.0-1.5.0.html">Libindy 1.4 to 1.5 migration Guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Libindy 1.5 to 1.6 migration Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#table-of-contents">Table of contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-5-to-1-6-0-migration-guide">Libindy 1.5 to 1.6.0 migration Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wallet-api">Wallet API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#anoncreds-api">Anoncreds API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#payments-api">Payments API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pool-api">Pool API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-6-0-to-1-6-1-migration-guide">Libindy 1.6.0 to 1.6.1 migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-6-1-to-1-6-2-migration-guide">Libindy 1.6.1 to 1.6.2 migration Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wallet-api-1-6-2">Wallet API 1.6.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ledger-api-1-6-2">Ledger API 1.6.2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-6-2-to-1-6-3-migration-guide">Libindy 1.6.2 to 1.6.3 migration Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wallet-api-1-6-3">Wallet API 1.6.3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ledger-api-1-6-3">Ledger API 1.6.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-6-3-to-1-6-4-migration-guide">Libindy 1.6.3 to 1.6.4 migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-6-4-to-1-6-5-migration-guide">Libindy 1.6.4 to 1.6.5 migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-6-5-to-1-6-6-migration-guide">Libindy 1.6.5 to 1.6.6 migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#libindy-1-6-6-to-1-6-7-migration-guide">Libindy 1.6.6 to 1.6.7 migration Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-workflow.html">Release process</a></li>
<li class="toctree-l1"><a class="reference internal" href="signing-commits.html">Signing commits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="rtd-index.html">Hyperledger Indy SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="rtd-index.html">Docs</a> &raquo;</li>
        
          <li><a href="rtd-migration-guides.html">Libindy Migration Guides</a> &raquo;</li>
        
      <li>Libindy 1.5 to 1.6 migration Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/migration-guide-1.5.0-1.6.0.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!-- markdownlint-disable MD033 --><div class="section" id="libindy-1-5-to-1-6-migration-guide">
<span id="libindy-1-5-to-1-6-migration-guide"></span><h1>Libindy 1.5 to 1.6 migration Guide<a class="headerlink" href="#libindy-1-5-to-1-6-migration-guide" title="Permalink to this headline">¶</a></h1>
<p>This document is written for developers using Libindy to provide necessary information and
to simplify their transition to Libindy 1.6 from Libindy 1.5. If you are using older Libindy
version you can check migration guides history:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/hyperledger/indy-sdk/blob/master/doc/migration-guide-1.3.0-1.4.0.md">Libindy 1.3 to 1.4 migration</a></li>
<li><a class="reference external" href="https://github.com/hyperledger/indy-sdk/blob/master/doc/migration-guide-1.4.0-1.5.0.md">Libindy 1.4 to 1.5 migration</a></li>
</ul>
<div class="section" id="table-of-contents">
<span id="table-of-contents"></span><h2>Table of contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="#notes">Notes</a></li>
<li><a class="reference external" href="#libindy-15-to-160-migration-guide">Libindy 1.5 to 1.6.0 migration</a><ul>
<li><a class="reference external" href="#wallet-api">Wallet API</a></li>
<li><a class="reference external" href="#anoncreds-api">Anoncreds API</a></li>
<li><a class="reference external" href="#payments-api">Payments API</a></li>
<li><a class="reference external" href="#payments-api">Pool API</a></li>
</ul>
</li>
<li><a class="reference external" href="#libindy-160-to-161-migration-guide">Libindy 1.6.0 to 1.6.1 migration</a></li>
<li><a class="reference external" href="#libindy-161-to-162-migration-guide">Libindy 1.6.1 to 1.6.2 migration</a><ul>
<li><a class="reference external" href="#wallet-api-162">Wallet API 1.6.2</a></li>
<li><a class="reference external" href="#ledger-api-162">Ledger API 1.6.2</a></li>
</ul>
</li>
<li><a class="reference external" href="#libindy-162-to-163-migration-guide">Libindy 1.6.2 to 1.6.3 migration</a><ul>
<li><a class="reference external" href="#wallet-api-163">Wallet API 1.6.3</a></li>
<li><a class="reference external" href="#ledger-api-163">Ledger API 1.6.3</a></li>
</ul>
</li>
<li><a class="reference external" href="#libindy-163-to-164-migration-guide">Libindy 1.6.3 to 1.6.4 migration</a></li>
<li><a class="reference external" href="#libindy-164-to-165-migration-guide">Libindy 1.6.4 to 1.6.5 migration</a></li>
<li><a class="reference external" href="#libindy-164-to-165-migration-guide">Libindy 1.6.5 to 1.6.6 migration</a></li>
<li><a class="reference external" href="#libindy-164-to-165-migration-guide">Libindy 1.6.6 to 1.6.7 migration</a></li>
</ul>
</div>
<div class="section" id="notes">
<span id="notes"></span><h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>Migration information is organized in tables, there are mappings for each Libindy API part of how older version functionality maps to a newer one.
Functions from older version are listed in the left column, and the equivalent newer version function is placed in the right column:</p>
<ul class="simple">
<li>If some function had been added, the word ‘NEW’ would be placed in the left column.</li>
<li>If some function had been deleted, the word ‘DELETED’ would be placed in the right column.</li>
<li>If some function had been deprecated, the word ‘DEPRECATED’ would be placed in the right column.</li>
<li>If some function had been changed, the current format would be placed in the right column.</li>
<li>If some function had not been changed, the symbol ‘=’ would be placed in the right column.</li>
<li>To get more details about current format of a function click on the description above it.</li>
<li>Bellow are signatures of functions in Libindy C API.
The params of <code class="docutils literal notranslate"><span class="pre">cb</span></code> (except command_handle and err) will be result values of the similar function in any Libindy wrapper.</li>
</ul>
</div>
<div class="section" id="libindy-1-5-to-1-6-0-migration-guide">
<span id="libindy-1-5-to-1-6-0-migration-guide"></span><h2>Libindy 1.5 to 1.6.0 migration Guide<a class="headerlink" href="#libindy-1-5-to-1-6-0-migration-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="wallet-api">
<span id="wallet-api"></span><h3>Wallet API<a class="headerlink" href="#wallet-api" title="Permalink to this headline">¶</a></h3>
<p>The main idea of changes performed in Wallet API is to avoid maintaining created wallet list on Libindy side.
It allows to access wallets from a cluster and solves some problems on mobile platforms.</p>
<p>The following changes have been performed:</p>
<ul class="simple">
<li>Changed Wallet export serialization:<ul>
<li>Use MsgPack instead of custom entities serialization to be more reliable and allow extend-ability in backward compatible way.</li>
<li>Changed header format to be more reliable and allow extend-ability in backward compatible way.</li>
<li>Use STOP message to make sure that there was no truncation of export file.</li>
<li>Removed EXPERIMENTAL notice for import/export API endpoints.</li>
</ul>
</li>
<li>Removed association between Wallet and Pool.</li>
<li>Removed persistence of Wallet configuration by Libindy.</li>
<li>A significant part of Wallet APIs has been updated to accept wallet configuration as a single json
which provides whole wallet configuration.
This wallet configuration json has the following format:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> {
   &quot;id&quot;: string, Identifier of the wallet.
         Configured storage uses this identifier to lookup exact wallet data placement.
   &quot;storage_type&quot;: optional&lt;string&gt;, Type of the wallet storage. Defaults to &#39;default&#39;.
                  &#39;Default&#39; storage type allows to store wallet data in the local file.
                  Custom storage types can be registered with indy_register_wallet_storage call.
   &quot;storage_config&quot;: optional&lt;object&gt;, Storage configuration json. Storage type defines set of supported keys.
                     Can be optional if storage supports default configuration.
                     For &#39;default&#39; storage type configuration is:
   {
     &quot;path&quot;: optional&lt;string&gt;, Path to the directory with wallet files.
             Defaults to $HOME/.indy_client/wallets.
             Wallet will be stored in the file {path}/{id}/sqlite.db
   }
 }
</pre></div>
</div>
<p><em>WARNING</em> Wallet format of libindy v1.6 isn’t compatible with a wallet format of libindy v1.5.</p>
<table>
  <tr>  
    <th>v1.5.0 - Wallet API</th>
    <th>v1.6.0 - Wallet API</th>
  </tr>
    <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/wallet.rs#L142">
            Create a new secure wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_create_wallet(command_handle: i32,
                   pool_name: *const c_char,
                   name: *const c_char,
                   xtype: *const c_char,
                   config: *const c_char,
                   credentials: *const c_char,
                   cb: Option<extern fn(xcommand_handle: i32, err: ErrorCode)>)
      </pre>
    </td>
    <td>
      <pre>
indy_create_wallet(command_handle: i32,
                   config: *const c_char,
                   credentials: *const c_char,
                   cb: Option<extern fn(xcommand_handle: i32,
                                        err: ErrorCode)>)
      </pre>
      <b>Note:</b> Format of <i>config</i> parameter was changed. Current format is described above.
    </td>
  </tr>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/wallet.rs#L208">
            Open the wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_open_wallet(command_handle: i32,
                 name: *const c_char,
                 runtime_config: *const c_char,
                 credentials_json: *const c_char,
                 cb: Option<extern fn(xcommand_handle: i32,
                                      err: ErrorCode,
                                      handle: i32)>)
      </pre>
    </td>
    <td>
      <pre>
indy_open_wallet(command_handle: i32,
                 config: *const c_char,
                 credentials: *const c_char,
                 cb: Option<extern fn(xcommand_handle: i32,
                                      err: ErrorCode,
                                      handle: i32)>)
      </pre>
      <b>Note:</b> Format of <i>config</i> parameter was changed. Current format is described above.
    </td>
  </tr>
    <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/wallet.rs#L443">
            Deletes created wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_delete_wallet(command_handle: i32,
                   name: *const c_char,
                   credentials: *const c_char,
                   cb: Option<extern fn(xcommand_handle: i32, err: ErrorCode)>)
      </pre>
    </td>
    <td>
      <pre>
indy_delete_wallet(command_handle: i32,
                   config: *const c_char,
                   credentials: *const c_char,
                   cb: Option<extern fn(xcommand_handle: i32, err: ErrorCode)>)
      </pre>
      <b>Note:</b> Format of <i>config</i> parameter was changed. Current format is described above.
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/wallet.rs#L328">
            Import wallet
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_import_wallet(
            command_handle: i32,
            pool_name: *const c_char,
            name: *const c_char,
            storage_type: *const c_char,
            config: *const c_char,
            credentials: *const c_char,
            import_config_json: *const c_char,
            cb: fn(xcommand_handle: i32, 
                   err: ErrorCode))
        </pre>
    </td>
    <td>
      <pre>
indy_import_wallet(
            command_handle: i32,
            config: *const c_char,
            credentials: *const c_char,
            import_config_json: *const c_char,
            cb: fn(xcommand_handle: i32, 
                   err: ErrorCode))
        </pre>
      <b>Note:</b> Format of <i>config</i> parameter was changed. Current format is described above.
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="">
            Lists created wallets
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_list_wallets(command_handle: i32,
                  cb: fn(xcommand_handle: i32,
                         err: ErrorCode,
                         wallets: *const c_char))
        </pre>
    </td>
    <td>
      <b>DELETED</b>
    </td>
  </tr>
</table></div>
<div class="section" id="anoncreds-api">
<span id="anoncreds-api"></span><h3>Anoncreds API<a class="headerlink" href="#anoncreds-api" title="Permalink to this headline">¶</a></h3>
<p>The main idea of changes performed in Anoncreds API is integration tags based search to Anoncreds workflow
as it has done in Non-Secrets API.</p>
<ul class="simple">
<li>Create tags for a stored object.</li>
<li>Provide efficient and flexible search for entities using WQL.</li>
<li>Avoid immediately returning all matched records.</li>
<li>Provide ability to fetch records by small batches.</li>
</ul>
<p>The following changes have been performed:</p>
<ul class="simple">
<li>Updated behavior of <code class="docutils literal notranslate"><span class="pre">indy_prover_store_credential</span></code> API function to create tags for a stored credential object.
Here is the list of tags will be created:</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;schema_id&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">credential</span> <span class="n">schema</span> <span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;schema_issuer_did&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">credential</span> <span class="n">schema</span> <span class="n">issuer</span> <span class="n">did</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;schema_name&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">credential</span> <span class="n">schema</span> <span class="n">name</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;schema_version&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">credential</span> <span class="n">schema</span> <span class="n">version</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;issuer_did&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">credential</span> <span class="n">issuer</span> <span class="n">did</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">&quot;cred_def_id&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">credential</span> <span class="n">definition</span> <span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="o">//</span> <span class="k">for</span> <span class="n">every</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">credential</span> <span class="n">values</span><span class="o">&gt;</span>
    <span class="s2">&quot;attr::&lt;attribute name&gt;::marker&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="o">//</span> <span class="n">to</span> <span class="n">check</span> <span class="n">existence</span> <span class="n">of</span> <span class="n">attribute</span>
    <span class="s2">&quot;attr::&lt;attribute name&gt;::value&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attribute</span> <span class="n">raw</span> <span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">//</span> <span class="n">to</span> <span class="n">check</span> <span class="n">value</span> <span class="n">of</span> <span class="n">attribute</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">indy_prover_get_credential</span></code> was added to Libindy Anoncreds API to allow getting human readable credential by the given id.</li>
<li>Updated <code class="docutils literal notranslate"><span class="pre">indy_prover_get_credentials</span></code> and <code class="docutils literal notranslate"><span class="pre">indy_prover_get_credentials_for_proof_req</span></code> API functions to support tags based search.</li>
<li><code class="docutils literal notranslate"><span class="pre">indy_prover_get_credentials</span></code> endpoint marked as DEPRECATED and will be removed in the next release because immediately returns all fetched credentials.</li>
<li><code class="docutils literal notranslate"><span class="pre">indy_prover_get_credentials_for_proof_req</span></code> endpoint marked as DEPRECATED and will be removed in the next release because immediately returns all fetched credentials.</li>
<li>Added two chains of APIs related to credentials search that allows fetching records by batches:<ul>
<li>Simple credentials search - <code class="docutils literal notranslate"><span class="pre">indy_prover_search_credentials</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">indy_prover_fetch_credentials</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">indy_prover_close_credentials_search</span></code></li>
<li>Search credentials for proof request - <code class="docutils literal notranslate"><span class="pre">indy_prover_search_credentials_for_proof_req</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">indy_prover_fetch_credentials_for_proof_req</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">indy_prover_close_credentials_search_for_proof_req</span></code></li>
</ul>
</li>
</ul>
<p><strong>Note:</strong></p>
<ul class="simple">
<li>Functions <code class="docutils literal notranslate"><span class="pre">indy_prover_get_credentials</span></code> and <code class="docutils literal notranslate"><span class="pre">indy_prover_get_credentials_for_proof_req</span></code> support both formats of queries: old strict filter and WQL.</li>
<li>Functions <code class="docutils literal notranslate"><span class="pre">indy_prover_search_credentials</span></code> and <code class="docutils literal notranslate"><span class="pre">indy_prover_search_credentials_for_proof_req</span></code> support only WQL format of queries.</li>
</ul>
<p>References:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/hyperledger/indy-node/blob/master/docs/design/011-wallet-query-language/README.md">Wallet Query Language</a></li>
</ul>
<table>
  <tr>
    <th>v1.5.0 - Anoncreds API</th>
    <th>v1.6.0 - Anoncreds API</th>
  </tr>  
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L798">
            Gets human readable credential by the given id
        </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td>
      <pre>
indy_prover_get_credential(
            command_handle: i32,
            wallet_handle: i32,
            cred_id: *const c_char,
            cb: fn(xcommand_handle: i32, 
                   err: ErrorCode,
                   credential_json: *const c_char))
        </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L855">
            Gets human readable credentials according to the filter
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_prover_get_credentials(
        command_handle: i32,
        wallet_handle: i32,
        filter_json: *const c_char,
        cb: fn(xcommand_handle: i32, 
               err: ErrorCode,
               credentials_json: *const c_char))
        </pre>
    </td>
    <td><b>DEPRECATED</b></td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L925">
            Search for credentials stored in wallet
        </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td colspan="2">
      <pre>
indy_prover_search_credentials(
            command_handle: i32,
            wallet_handle: i32,
            query_json: *const c_char,
            cb: fn(xcommand_handle: i32, 
                   err: ErrorCode,
                   search_handle: i32,
                   total_count: usize))
        </pre>
    </td>
  </tr>  
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L980">
            Fetch next credentials for search
        </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td colspan="2">
      <pre>
indy_prover_fetch_credentials(
            command_handle: i32,
            search_handle: i32,
            count: usize,
            cb: fn(command_handle_: i32, 
                   err: ErrorCode,
                   credentials_json: *const c_char))
        </pre>
    </td>
  </tr> 
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L1036">
            Close credentials search
        </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td colspan="2">
      <pre>
indy_prover_close_credentials_search(
            command_handle: i32,
            search_handle: i32,
            cb: fn(command_handle_: i32, 
                   err: ErrorCode))
        </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L1074">
            Gets human readable credentials matching the given proof request
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_prover_get_credentials_for_proof_req(
        command_handle: i32,
        wallet_handle: i32,
        proof_request_json: *const c_char,
        cb: fn(xcommand_handle: i32, 
               err: ErrorCode,
               credentials_json: *const c_char))
        </pre>
    </td>
    <td><b>DEPRECATED</b></td>
  </tr>
  <tr>
    <th colspan="2">
      <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L1191">
        Search for credentials matching the given proof request.
      </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td>
      <pre>
indy_prover_search_credentials_for_proof_req(
            command_handle: i32,
            wallet_handle: i32,
            proof_request_json: *const c_char,
            extra_query_json: *const c_char,
            cb: fn(xcommand_handle: i32, 
                   err: ErrorCode,
                   search_handle: i32))
      <b>NOTE:</b> Added parameter <b>extra_query_json</b>.
      Using this parameter you can pass an additional 
      query to any attribute/predicate in a proof request.
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
      <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L1270">
        Fetch next credentials for the requested item using proof request search handle
      </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td>
      <pre>
indy_prover_fetch_credentials_for_proof_req(
            command_handle: i32,
            search_handle: i32,
            item_referent: *const c_char,
            count: usize,
            cb: fn(command_handle_: i32, 
                   err: ErrorCode,
                   credentials_json: *const c_char))
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
      <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/anoncreds.rs#L1343">
        Close credentials search for proof request
      </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td>
      <pre>
indy_prover_close_credentials_search_for_proof_req(
            command_handle: i32,
            search_handle: i32,
            cb: fn(command_handle_: i32, 
                   err: ErrorCode))
      </pre>
    </td>
  </tr>
</table></div>
<div class="section" id="payments-api">
<span id="payments-api"></span><h3>Payments API<a class="headerlink" href="#payments-api" title="Permalink to this headline">¶</a></h3>
<p>The main idea of changes performed in Payment API is avoiding UTXO based payments approach.
Payment API has been updated to support non-UTXO based crypto payments and traditional payments like VISA.</p>
<p><strong>Note:</strong> Removed EXPERIMENTAL notice for API endpoints.</p>
<p>The following changes have been performed:</p>
<ul class="simple">
<li>Changed format of input and output parameters.</li>
<li>Changed format of result values of <code class="docutils literal notranslate"><span class="pre">indy_parse_response_with_fees</span></code> and <code class="docutils literal notranslate"><span class="pre">indy_parse_payment_response</span></code> API functions.</li>
<li>Renamed <code class="docutils literal notranslate"><span class="pre">indy_build_get_utxo_request</span></code> and <code class="docutils literal notranslate"><span class="pre">indy_parse_get_utxo_response</span></code> API functions.</li>
<li>Added <code class="docutils literal notranslate"><span class="pre">indy_build_verify_payment_req</span></code> and <code class="docutils literal notranslate"><span class="pre">indy_parse_verify_payment_response</span></code> API functions.</li>
</ul>
<table>
  <tr>
    <th>v1.5.0 - Payment API</th>
    <th>v1.6.0 - Payment API</th>
  </tr>  
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L505">
            Modifies Indy request by adding information how to pay fees for this transaction
            according to selected payment method
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_add_request_fees(
        command_handle: i32,
        wallet_handle: i32,
        submitter_did: *const c_char,
        req_json: *const c_char,
        inputs_json: *const c_char,
        outputs_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               req_with_fees_json: *const c_char,
               payment_method: *const c_char))
      </pre>
    </td>
    <td>
<pre>
Left the same but the format of outputs has been 
changed to:
[{
  recipient: <str>, // payment address of recipient
  amount: <int>, // amount
  extra: <str>, // optional data
}]
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L585">
            Parses response for Indy request with fees
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_parse_response_with_fees(
        command_handle: i32,
        payment_method: *const c_char,
        resp_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               utxo_json: *const c_char))
      </pre>
    </td>
    <td>
    <pre>
indy_parse_response_with_fees(
        command_handle: i32,
        payment_method: *const c_char,
        resp_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               receipts_json: *const c_char))
<b>NOTE:</b> Format of result value has been changed to:
[{
   receipt: <str>, // receipt that can be used for 
             payment referencing and verification
   recipient: <str>, //payment address of recipient
   amount: <int>, // amount
   extra: <str>, // optional data from payment transaction
}]
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L632">
             Builds Indy request for getting sources list for payment address
             according to this payment method
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_build_get_utxo_request(
        command_handle: i32,
        wallet_handle: i32,
        submitter_did: *const c_char,
        payment_address: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               get_utxo_txn_json: *const c_char,
               payment_method: *const c_char))
      </pre>
    </td>
    <td>
    <pre>
indy_build_get_sources_request(
        command_handle: i32,
        wallet_handle: i32,
        submitter_did: *const c_char,
        payment_address: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               get_sources_txn_json: *const c_char,
               payment_method: *const c_char))
    </pre>
<b>NOTE:</b> Function and result value have been renamed.
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L683">
             Parses response for Indy request for getting sources list
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_parse_get_utxo_response(
        command_handle: i32,
        payment_method: *const c_char,
        resp_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               utxo_json: *const c_char))
      </pre>
    </td>
    <td>
    <pre>
indy_parse_get_sources_response(
        command_handle: i32,
        payment_method: *const c_char,
        resp_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               sources_json: *const c_char))
<b>NOTE:</b> Function and result value have been renamed.
<b>NOTE:</b> sources have the following format:
[{
   source: <str>, // source input
   paymentAddress: <str>, //payment address for this source
   amount: <int>, // amount
   extra: <str>, // optional data from payment transaction
}]
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L733">
             Builds Indy request for doing payment according to this payment method
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_build_payment_req(
        command_handle: i32,
        wallet_handle: i32,
        submitter_did: *const c_char,
        inputs_json: *const c_char,
        outputs_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               payment_req_json: *const c_char,
               payment_method: *const c_char))
      </pre>
    </td>
    <td>
<pre>
Left the same but the format of outputs has been 
changed to:
[{
  recipient: <str>, // payment address of recipient
  amount: <int>, // amount
  extra: <str>, // optional data
}]
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L805">
             Builds Indy request for doing payment according to this payment method
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_parse_payment_response(
            command_handle: i32,
            payment_method: *const c_char,
            resp_json: *const c_char,
            cb: fn(command_handle_: i32,
                   err: ErrorCode,
                   utxo_json: *const c_char))
      </pre>
    </td>
    <td>
      <pre>
indy_parse_payment_response(
            command_handle: i32,
            payment_method: *const c_char,
            resp_json: *const c_char,
            cb: fn(command_handle_: i32,
                   err: ErrorCode,
                   receipts_json: *const c_char))
<b>NOTE:</b> Format of result value has been changed to:
[{
   receipt: <str>, // receipt that can be used for 
             payment referencing and verification
   recipient: <str>, //payment address of recipient
   amount: <int>, // amount
   extra: <str>, // optional data from payment transaction
}]
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L855">
             Builds Indy request for doing tokens minting according to this payment method
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_build_mint_req(
        command_handle: i32,
        wallet_handle: i32,
        submitter_did: *const c_char,
        outputs_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               mint_req_json: *const c_char,
               payment_method: *const c_char))
      </pre>
    </td>
    <td>
<pre>
Left the same but the format of outputs has been 
changed to:
[{
  recipient: <str>, // payment address of recipient
  amount: <int>, // amount
  extra: <str>, // optional data
}]
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L1065">
             Builds Indy request for information to verify the payment receipt
        </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td>
      <pre>
indy_build_verify_payment_req(
        command_handle: i32,
        wallet_handle: i32,
        submitter_did: *const c_char,
        receipt: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               verify_txn_json: *const c_char,
               payment_method: *const c_char))
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/payments.rs#L1114">
             Parses Indy response with information to verify receipt
        </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td>
      <pre>
indy_parse_verify_payment_response(
        command_handle: i32,
        payment_method: *const c_char,
        resp_json: *const c_char,
        cb: fn(command_handle_: i32,
               err: ErrorCode,
               txn_json: *const c_char))
      </pre>
    </td>
  </tr>
</table></div>
<div class="section" id="pool-api">
<span id="pool-api"></span><h3>Pool API<a class="headerlink" href="#pool-api" title="Permalink to this headline">¶</a></h3>
<table>
  <tr>
    <th>v1.5.0 - Pool API</th>
    <th>v1.6.0 - Pool API</th>
  </tr>  
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.0/libindy/src/api/pool.rs#L59">
            Opens pool ledger and performs connecting to pool nodes
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_open_pool_ledger(command_handle: i32,
                      config_name: *const c_char,
                      config: *const c_char,
                      cb: fn(xcommand_handle: i32,
                           err: ErrorCode,
                           pool_handle: i32))
      </pre>
    </td>
    <td>
<pre>
Left the same but the format of config has been changed to:
{
   "timeout": int (optional), timeout for network request (in sec).
   "extended_timeout": int (optional), extended timeout for network request (in sec).
   "preordered_nodes": array<string> - (optional), names of nodes which will 
       have a priority during request sending:
       ["name_of_1st_prior_node",  "name_of_2nd_prior_node", .... ]
       Note: Not specified nodes will be placed in a random way.
}
      </pre>
    </td>
  </tr>
</table></div>
</div>
<div class="section" id="libindy-1-6-0-to-1-6-1-migration-guide">
<span id="libindy-1-6-0-to-1-6-1-migration-guide"></span><h2>Libindy 1.6.0 to 1.6.1 migration Guide<a class="headerlink" href="#libindy-1-6-0-to-1-6-1-migration-guide" title="Permalink to this headline">¶</a></h2>
<p>The Libindy 1.6.1 release contains fixes that don’t affect API functions.
Most of them relate to pool connection performance.</p>
</div>
<div class="section" id="libindy-1-6-1-to-1-6-2-migration-guide">
<span id="libindy-1-6-1-to-1-6-2-migration-guide"></span><h2>Libindy 1.6.1 to 1.6.2 migration Guide<a class="headerlink" href="#libindy-1-6-1-to-1-6-2-migration-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="wallet-api-1-6-2">
<span id="wallet-api-1-6-2"></span><h3>Wallet API 1.6.2<a class="headerlink" href="#wallet-api-1-6-2" title="Permalink to this headline">¶</a></h3>
<p>Updated wallet <code class="docutils literal notranslate"><span class="pre">credentials</span></code> to accept the additional parameter <code class="docutils literal notranslate"><span class="pre">key_derivation_method</span></code>.</p>
<p>This parameter provides the ability to use different crypto algorithms for wallet master key derivation.</p>
<p>Wallet credentials json has the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span>
   <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">Passphrase</span> <span class="n">used</span> <span class="n">to</span> <span class="n">derive</span> <span class="n">wallet</span> <span class="n">master</span> <span class="n">key</span>
   <span class="s2">&quot;storage_credentials&quot;</span><span class="p">:</span> <span class="n">optional</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="n">Credentials</span> <span class="k">for</span> <span class="n">wallet</span> <span class="n">storage</span><span class="o">.</span> <span class="n">Storage</span> <span class="nb">type</span> <span class="n">defines</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">supported</span> <span class="n">keys</span><span class="o">.</span>
                          <span class="n">Can</span> <span class="n">be</span> <span class="n">optional</span> <span class="k">if</span> <span class="n">storage</span> <span class="n">supports</span> <span class="n">default</span> <span class="n">configuration</span><span class="o">.</span>
                          <span class="n">For</span> <span class="s1">&#39;default&#39;</span> <span class="n">storage</span> <span class="nb">type</span> <span class="n">should</span> <span class="n">be</span> <span class="n">empty</span><span class="o">.</span>
   <span class="s2">&quot;key_derivation_method&quot;</span><span class="p">:</span> <span class="n">optional</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">algorithm</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="n">master</span> <span class="n">key</span> <span class="n">derivation</span><span class="p">:</span>
                          <span class="n">ARGON2I_MOD</span> <span class="p">(</span><span class="n">used</span> <span class="n">by</span> <span class="n">default</span><span class="p">)</span>
                          <span class="n">ARGON2I_INT</span> <span class="o">-</span> <span class="n">less</span> <span class="n">secured</span> <span class="n">but</span> <span class="n">faster</span> 
 <span class="p">}</span>
</pre></div>
</div>
<table>
  <tr>  
    <th>v1.6.1 - Wallet API</th>
    <th>v1.6.2 - Wallet API</th>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.2/libindy/src/api/wallet.rs#L142">
            Create a new secure wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_create_wallet(command_handle: i32,
                   config: *const c_char,
                   credentials: *const c_char,
                   cb: fn(xcommand_handle: i32,
                          err: ErrorCode))
      </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.2/libindy/src/api/wallet.rs#L208">
            Open the wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_open_wallet(command_handle: i32,
                 config: *const c_char,
                 credentials: *const c_char,
                 cb: fn(xcommand_handle: i32,
                                      err: ErrorCode,
                                      handle: i32))
      </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
    <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.2/libindy/src/api/wallet.rs#L443">
            Deletes created wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_delete_wallet(command_handle: i32,
                   config: *const c_char,
                   credentials: *const c_char,
                   cb: fn(xcommand_handle: i32, 
                          err: ErrorCode))
      </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.2/libindy/src/api/wallet.rs#L296">
            Exports opened wallet
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_export_wallet(
                command_handle: i32,
                wallet_handle: i32,
                export_config: *const c_char,
                cb: fn(xcommand_handle: i32,
                       err: ErrorCode))
        </pre>
    </td>
    <td>
      <b>Note:</b> Format of <i>export_config</i> parameter was changed to.
      <pre>
{
 "path": <string>, Path of the file that contains exported wallet content
 "key": <string>, Key or passphrase used for wallet export key derivation.
 "key_derivation_method": optional<string> Algorithm to use for wallet export key derivation:
                          ARGON2I_MOD - derive secured export key (used by default)
                          ARGON2I_INT - derive secured export key (less secured but faster)
}
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.2/libindy/src/api/wallet.rs#L328">
            Import wallet
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_import_wallet(
            command_handle: i32,
            config: *const c_char,
            credentials: *const c_char,
            import_config_json: *const c_char,
            cb: fn(xcommand_handle: i32, 
                   err: ErrorCode)
        </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
</table></div>
<div class="section" id="ledger-api-1-6-2">
<span id="ledger-api-1-6-2"></span><h3>Ledger API 1.6.2<a class="headerlink" href="#ledger-api-1-6-2" title="Permalink to this headline">¶</a></h3>
<table>
  <tr>
    <th>v1.6.1 - Ledger API</th>
    <th>v1.6.2 - Ledger API</th>
  </tr>  
  <tr>
    <th colspan="2">
        <a https://github.com/hyperledger/indy-sdk/blob/v1.6.2/libindy/src/api/ledger.rs#L122">
            Send action to particular nodes of validator pool
        </a>
    </th>
  </tr>
  <tr>
    <td><b>NEW</b></td>
    <td>
      <pre>
indy_submit_action(
               command_handle: i32,
               pool_handle: i32,
               request_json: *const c_char,
               nodes: *const c_char,
               timeout: i32,
               cb: fn(xcommand_handle: i32,
                      err: ErrorCode,
                      request_result_json: *const c_char))
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a https://github.com/hyperledger/indy-sdk/blob/v1.6.2/libindy/src/api/ledger.rs#L1148">
            Builds a POOL_UPGRADE request
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_build_pool_upgrade_request(
            command_handle: i32,
            submitter_did: *const c_char,
            name: *const c_char,
            version: *const c_char,
            action: *const c_char,
            sha256: *const c_char,
            timeout: i32,
            schedule: *const c_char,
            justification: *const c_char,
            reinstall: bool,
            force: bool,
            cb: fn(xcommand_handle: i32,
                   err: ErrorCode,
                   request_json: *const c_char))
      </pre>
    </td>
    <td>
      <pre>
indy_build_pool_upgrade_request(
                command_handle: i32,
                submitter_did: *const c_char,
                name: *const c_char,
                version: *const c_char,
                action: *const c_char,
                sha256: *const c_char,
                timeout: i32,
                schedule: *const c_char,
                justification: *const c_char,
                reinstall: bool,
                force: bool,
                package: *const c_char,
                cb: fn(xcommand_handle: i32,
                       err: ErrorCode,
                       request_json: *const c_char))
      </pre>
      <b>Note:</b> Added <i>package</i> parameter that allows to specify package to be upgraded
    </td>
  </tr>
</table></div>
</div>
<div class="section" id="libindy-1-6-2-to-1-6-3-migration-guide">
<span id="libindy-1-6-2-to-1-6-3-migration-guide"></span><h2>Libindy 1.6.2 to 1.6.3 migration Guide<a class="headerlink" href="#libindy-1-6-2-to-1-6-3-migration-guide" title="Permalink to this headline">¶</a></h2>
<div class="section" id="wallet-api-1-6-3">
<span id="wallet-api-1-6-3"></span><h3>Wallet API 1.6.3<a class="headerlink" href="#wallet-api-1-6-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added separate API function <code class="docutils literal notranslate"><span class="pre">indy_generate_wallet_key</span></code> to generate a random wallet master key.</li>
<li>Updated <code class="docutils literal notranslate"><span class="pre">key_derivation_method</span></code> parameter of wallet <code class="docutils literal notranslate"><span class="pre">credentials</span></code> to accept the addition type - <code class="docutils literal notranslate"><span class="pre">RAW</span></code>.
By using this type, the result of <code class="docutils literal notranslate"><span class="pre">indy_generate_wallet_key</span></code> can be passed as a wallet master key (key derivation will be skipped).</li>
<li>Fixed <strong>typo</strong> in the naming of key derivation methods - <strong>ARGON</strong> instead of <strong>ARAGON</strong>.</li>
</ul>
<p>Wallet credentials json has the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span>
   <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">string</span><span class="p">,</span> <span class="n">Key</span> <span class="ow">or</span> <span class="n">passphrase</span> <span class="n">used</span> <span class="k">for</span> <span class="n">wallet</span> <span class="n">key</span> <span class="n">derivation</span><span class="o">.</span>
                  <span class="n">Look</span> <span class="n">to</span> <span class="n">key_derivation_method</span> <span class="n">param</span> <span class="k">for</span> <span class="n">information</span> <span class="n">about</span> <span class="n">supported</span> <span class="n">key</span> <span class="n">derivation</span> <span class="n">methods</span><span class="o">.</span>
   <span class="s2">&quot;storage_credentials&quot;</span><span class="p">:</span> <span class="n">optional</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="n">Credentials</span> <span class="k">for</span> <span class="n">wallet</span> <span class="n">storage</span><span class="o">.</span> <span class="n">Storage</span> <span class="nb">type</span> <span class="n">defines</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">supported</span> <span class="n">keys</span><span class="o">.</span>
                          <span class="n">Can</span> <span class="n">be</span> <span class="n">optional</span> <span class="k">if</span> <span class="n">storage</span> <span class="n">supports</span> <span class="n">default</span> <span class="n">configuration</span><span class="o">.</span>
                          <span class="n">For</span> <span class="s1">&#39;default&#39;</span> <span class="n">storage</span> <span class="nb">type</span> <span class="n">should</span> <span class="n">be</span> <span class="n">empty</span><span class="o">.</span>
   <span class="s2">&quot;key_derivation_method&quot;</span><span class="p">:</span> <span class="n">optional</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">Algorithm</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="n">wallet</span> <span class="n">key</span> <span class="n">derivation</span><span class="p">:</span>
                          <span class="n">ARGON2I_MOD</span> <span class="o">-</span> <span class="n">derive</span> <span class="n">secured</span> <span class="n">wallet</span> <span class="n">master</span> <span class="n">key</span> <span class="p">(</span><span class="n">used</span> <span class="n">by</span> <span class="n">default</span><span class="p">)</span>
                          <span class="n">ARGON2I_INT</span> <span class="o">-</span> <span class="n">derive</span> <span class="n">secured</span> <span class="n">wallet</span> <span class="n">master</span> <span class="n">key</span> <span class="p">(</span><span class="n">less</span> <span class="n">secured</span> <span class="n">but</span> <span class="n">faster</span><span class="p">)</span>
                          <span class="n">RAW</span> <span class="o">-</span> <span class="n">raw</span> <span class="n">wallet</span> <span class="n">key</span> <span class="n">master</span> <span class="n">provided</span> <span class="p">(</span><span class="n">skip</span> <span class="n">derivation</span><span class="p">)</span><span class="o">.</span>
                                <span class="n">RAW</span> <span class="n">keys</span> <span class="n">can</span> <span class="n">be</span> <span class="n">generated</span> <span class="k">with</span> <span class="n">indy_generate_wallet_key</span> <span class="n">call</span> 
 <span class="p">}</span>
</pre></div>
</div>
<table>
  <tr>  
    <th>v1.6.2 - Wallet API</th>
    <th>v1.6.3 - Wallet API</th>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.3/libindy/src/api/wallet.rs#L538">
            Generate wallet master key.
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <b>NEW</b>
    </td>
    <td>
      <pre>
indy_generate_wallet_key(command_handle: i32,
                         config: *const c_char,
                         cb: fn(xcommand_handle: i32,
                                err: ErrorCode,
                                key: *const c_char))
        </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.3/libindy/src/api/wallet.rs#L142">
            Create a new secure wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_create_wallet(command_handle: i32,
                   config: *const c_char,
                   credentials: *const c_char,
                   cb: fn(xcommand_handle: i32,
                          err: ErrorCode))
      </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.3/libindy/src/api/wallet.rs#L208">
            Open the wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_open_wallet(command_handle: i32,
                 config: *const c_char,
                 credentials: *const c_char,
                 cb: fn(xcommand_handle: i32,
                                      err: ErrorCode,
                                      handle: i32))
      </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
    <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.3/libindy/src/api/wallet.rs#L443">
            Deletes created wallet
        </a>
    </th>
  <tr>
    <td>
      <pre>
indy_delete_wallet(command_handle: i32,
                   config: *const c_char,
                   credentials: *const c_char,
                   cb: fn(xcommand_handle: i32, 
                          err: ErrorCode))
      </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.3/libindy/src/api/wallet.rs#L296">
            Exports opened wallet
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_export_wallet(
                command_handle: i32,
                wallet_handle: i32,
                export_config: *const c_char,
                cb: fn(xcommand_handle: i32,
                       err: ErrorCode))
        </pre>
    </td>
    <td>
      <b>Note:</b> Format of <i>export_config</i> parameter was changed to.
      <pre>
{
 "path": <string>, Path of the file that contains exported wallet content
 "key": <string>, Key or passphrase used for wallet export key derivation.
 "key_derivation_method": optional<string> Algorithm to use for wallet export key derivation:
                          ARGON2I_MOD - derive secured export key (used by default)
                          ARGON2I_INT - derive secured export key (less secured but faster)
                          RAW - raw wallet key master provided (skip derivation).
}
      </pre>
    </td>
  </tr>
  <tr>
    <th colspan="2">
        <a href="https://github.com/hyperledger/indy-sdk/blob/v1.6.3/libindy/src/api/wallet.rs#L328">
            Import wallet
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_import_wallet(
            command_handle: i32,
            config: *const c_char,
            credentials: *const c_char,
            import_config_json: *const c_char,
            cb: fn(xcommand_handle: i32, 
                   err: ErrorCode)
        </pre>
    </td>
    <td>
      <b>Note:</b> Left the same but format of <i>credentials</i> parameter was changed. 
      The current format is described above.
    </td>
  </tr>
</table></div>
<div class="section" id="ledger-api-1-6-3">
<span id="ledger-api-1-6-3"></span><h3>Ledger API 1.6.3<a class="headerlink" href="#ledger-api-1-6-3" title="Permalink to this headline">¶</a></h3>
<table>
  <tr>
    <th>v1.6.2 - Ledger API</th>
    <th>v1.6.3 - Ledger API</th>
  </tr>  
  <tr>
    <th colspan="2">
        <a https://github.com/hyperledger/indy-sdk/blob/v1.6.3/libindy/src/api/ledger.rs#L898">
            Builds a NODE request
        </a>
    </th>
  </tr>
  <tr>
    <td>
      <pre>
indy_build_node_request(
            command_handle: i32,
            submitter_did: *const c_char,
            target_did: *const c_char,
            data: *const c_char,
            cb: fn(xcommand_handle: i32,
                   err: ErrorCode,
                   request_json: *const c_char))
      </pre>
    </td>
    <td>
Left the same but the additional optional field <b>blskey_pop</b> has been added in data json.
    </td>
  </tr>
</table></div>
</div>
<div class="section" id="libindy-1-6-3-to-1-6-4-migration-guide">
<span id="libindy-1-6-3-to-1-6-4-migration-guide"></span><h2>Libindy 1.6.3 to 1.6.4 migration Guide<a class="headerlink" href="#libindy-1-6-3-to-1-6-4-migration-guide" title="Permalink to this headline">¶</a></h2>
<p>The Libindy 1.6.4 release contains fixes that don’t affect API functions.</p>
</div>
<div class="section" id="libindy-1-6-4-to-1-6-5-migration-guide">
<span id="libindy-1-6-4-to-1-6-5-migration-guide"></span><h2>Libindy 1.6.4 to 1.6.5 migration Guide<a class="headerlink" href="#libindy-1-6-4-to-1-6-5-migration-guide" title="Permalink to this headline">¶</a></h2>
<p>The Libindy 1.6.5 release contains changes that related with Ledger API and Payment API but doesn’t break them.
Parameter <code class="docutils literal notranslate"><span class="pre">submitter_did</span></code> set as the optional field for:</p>
<ul class="simple">
<li>Ledger API <code class="docutils literal notranslate"><span class="pre">indy_build_get_*</span></code> functions (except <code class="docutils literal notranslate"><span class="pre">indy_build_get_validator_info_request</span></code>).</li>
<li>all functions in Payment API.</li>
</ul>
</div>
<div class="section" id="libindy-1-6-5-to-1-6-6-migration-guide">
<span id="libindy-1-6-5-to-1-6-6-migration-guide"></span><h2>Libindy 1.6.5 to 1.6.6 migration Guide<a class="headerlink" href="#libindy-1-6-5-to-1-6-6-migration-guide" title="Permalink to this headline">¶</a></h2>
<p>The Libindy 1.6.6 release contains fixes that don’t affect API functions.</p>
</div>
<div class="section" id="libindy-1-6-6-to-1-6-7-migration-guide">
<span id="libindy-1-6-6-to-1-6-7-migration-guide"></span><h2>Libindy 1.6.6 to 1.6.7 migration Guide<a class="headerlink" href="#libindy-1-6-6-to-1-6-7-migration-guide" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Supported hexadecimal seed.</li>
<li>Removed TGB role from <code class="docutils literal notranslate"><span class="pre">indy_build_nym_request</span></code>.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release-workflow.html" class="btn btn-neutral float-right" title="Release process" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="migration-guide-1.4.0-1.5.0.html" class="btn btn-neutral" title="Libindy 1.4 to 1.5 migration Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Hyperledger

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>