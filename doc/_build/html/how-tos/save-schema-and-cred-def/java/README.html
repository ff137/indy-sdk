

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Save a Schema and Credential Definition &mdash; Hyperledger Indy SDK  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          


          
            <a href="../../../rtd-index.html" class="icon icon-home"> Hyperledger Indy SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<br><img style="background-color: #fff; height: unset; width: unset;" alt="Hyperledger Indy" src="_static/images/indy-logo.png" />
<br>
<a href="https://github.com/hyperledger/indy-sdk.git"><img style="padding: 0px; margin: auto auto auto auto;" alt="GitHub" src="_static/images/github_button.png"/></a>
&nbsp;<a href="https://stackoverflow.com/questions/tagged/hyperledger-fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="StackOverflow" src="_static/images/stackoverflow_button.png"/></a>
&nbsp;<a href="https://chat.hyperledger.org"><img style="padding: 0px; margin: auto auto auto auto;" alt="Rocket Chat" src="_static/images/rocketchat_button.png"/></a>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/getting-started.html">Getting Started with Libindy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rtd-tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rtd-design.html">Indy SDK Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rtd-building.html">Building Indy SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rtd-migration-guides.html">Libindy Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-workflow.html">Release process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../signing-commits.html">Signing commits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../rtd-index.html">Hyperledger Indy SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../rtd-index.html">Docs</a> &raquo;</li>
        
      <li>Save a Schema and Credential Definition</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/how-tos/save-schema-and-cred-def/java/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="save-a-schema-and-credential-definition">
<span id="save-a-schema-and-credential-definition"></span><h1>Save a Schema and Credential Definition<a class="headerlink" href="#save-a-schema-and-credential-definition" title="Permalink to this headline">¶</a></h1>
<p>Indy-SDK Developer Walkthrough #4, Java Edition</p>
<p>[ <a class="reference external" href="../../not-yet-written.md">Python</a> | <a class="reference external" href="../../not-yet-written.md">.NET</a> | <a class="reference external" href="../../not-yet-written.md">Node.js</a> | <a class="reference external" href="../../not-yet-written.md">Objective C</a> ]</p>
<div class="section" id="prerequisites">
<span id="prerequisites"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Setup your workstation with an indy development virtual machine (VM). See <a class="reference external" href="../../prerequisites.md">prerequisites</a>.</p>
</div>
<div class="section" id="steps">
<span id="steps"></span><h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<div class="section" id="step-1">
<span id="step-1"></span><h3>Step 1<a class="headerlink" href="#step-1" title="Permalink to this headline">¶</a></h3>
<p>In your normal workstation operating system (not the VM), open a java editor of your
choice and paste the code from <a class="reference external" href="template.java">template.java</a>
into a new doc. We will be modifying this code in later steps.</p>
<p>Save the doc as <code class="docutils literal notranslate"><span class="pre">SaveSchemaAndCredDef.java</span></code></p>
<p>This is a simple app framework into which you’ll plug the code
you’ll be writing.</p>
</div>
<div class="section" id="step-2">
<span id="step-2"></span><h3>Step 2<a class="headerlink" href="#step-2" title="Permalink to this headline">¶</a></h3>
<p>We need to give the SDK some context that it will need
to deal with an indy ledger. This requires us to point the SDK at some
<em>genesis transactions</em> that tell the SDK how to contact the ledger on
the network and how to trust that the nodes it contacts possess
appropriate keys. We also need to create a wallet so the SDK can store
DIDs and the key material we’re going to use. Also, we need
to create a trust anchor identity that has privileges to create schemas
and credential definitions.</p>
<p>All of these steps are similar to those in simpler how-tos, such as
<a class="reference external" href="../../write-did-and-query-verkey/../not-yet-written.md">“Write a DID and Query Its Verkey”</a>.
We’ll get this housekeeping out of
the way in a single step here, rather than dwelling on its details.</p>
<p>Copy the contents of <a class="reference external" href="step2.java">step2.java</a> into
<code class="docutils literal notranslate"><span class="pre">SaveSchemaAndCredDef.java</span></code> on top of the <code class="docutils literal notranslate"><span class="pre">Step</span> <span class="pre">2</span> <span class="pre">code</span> <span class="pre">goes</span> <span class="pre">here</span></code> placeholder comment.</p>
<p>Save the updated version of <code class="docutils literal notranslate"><span class="pre">SaveSchemaAndCredDef.java</span></code>.</p>
<p>Study the changes. Scaffolding code like this is likely to appear in anything
that uses indy.</p>
</div>
<div class="section" id="step-3">
<span id="step-3"></span><h3>Step 3<a class="headerlink" href="#step-3" title="Permalink to this headline">¶</a></h3>
<p>Now we need to create and define a schema. Schemas in indy are very simple
JSON documents that specify their name and version, and that list attributes
that will appear in a credential. Today, they do not describe data type,
recurrence rules, nesting, and other elaborate constructs. There is work
underway to make them fancier; visit
<a class="reference external" href="https://chat.hyperledger.org/channel/indy-sdk">#indy-sdk on Rocket.Chat</a> to learn
more.</p>
<p>A sample schema might look like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;simple_gvt_credential&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;attr_names&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Copy the contents of <a class="reference external" href="step3.java">step3.java</a> into
<code class="docutils literal notranslate"><span class="pre">SaveSchemaAndCredDef.java</span></code> on top of the <code class="docutils literal notranslate"><span class="pre">Step</span> <span class="pre">3</span> <span class="pre">code</span> <span class="pre">goes</span> <span class="pre">here</span></code> placeholder comment.</p>
<p>Save the updated version of <code class="docutils literal notranslate"><span class="pre">SaveSchemaAndCredDef.java</span></code>.</p>
<p>Notice how this schema is submitted to the ledger by the steward
identity we created previously.</p>
</div>
<div class="section" id="step-4">
<span id="step-4"></span><h3>Step 4<a class="headerlink" href="#step-4" title="Permalink to this headline">¶</a></h3>
<p>Next, we create a <em>credential definition</em>. This references the schema
that we just added, and announces who is going to be issuing credentials
with that schema (our trust anchor identity, in this case), what type of
signature method they plan to use (“CL” = “Camenisch Lysyanskya”, the
default method used for zero-knowledge proofs by indy), how they
plan to handle revocation, and so forth.</p>
<p>Copy the contents of <a class="reference external" href="step4.java">step4.java</a> into
<code class="docutils literal notranslate"><span class="pre">SaveSchemaAndCredDef.java</span></code> on top of the <code class="docutils literal notranslate"><span class="pre">Step</span> <span class="pre">4</span> <span class="pre">code</span> <span class="pre">goes</span> <span class="pre">here</span></code> placeholder comment.</p>
<p>Save the updated version of <code class="docutils literal notranslate"><span class="pre">SaveSchemaAndCredDef.java</span></code>.</p>
</div>
<div class="section" id="step-5">
<span id="step-5"></span><h3>Step 5<a class="headerlink" href="#step-5" title="Permalink to this headline">¶</a></h3>
<p>Run the <a class="reference external" href="SaveSchemaAndCredDef.java">finished code</a> and observe the whole sequence.</p>
</div>
</div>
<div class="section" id="more-experiments">
<span id="more-experiments"></span><h2>More experiments<a class="headerlink" href="#more-experiments" title="Permalink to this headline">¶</a></h2>
<p>You might try the <a class="reference external" href="../../issue-cred/../not-yet-written.md">“Issue a Credential”</a>
how-to, which can be done in only one step once you complete this one.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Hyperledger

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>